{% extends "layout.html" %}
{% block title %}Agregar movimiento - Cashflow{% endblock %}

{% block content %}
<h1 class="h3 mb-3">Agregar movimiento</h1>

<form method="post" class="card p-3">
  <div class="mb-3">
    <label for="amount" class="form-label">Monto</label>
    <input
      type="number"
      step="0.01"
      class="form-control"
      id="amount"
      name="amount"
      required
      min="0.01"
      placeholder="Ej: 15000.00"
    >
  </div>

  <div class="mb-3">
    <label for="date" class="form-label">Fecha</label>
    <input
      type="date"
      class="form-control"
      id="date"
      name="date"
      required
    >
  </div>

  <div class="mb-3">
    <label for="category_id" class="form-label">Categoría</label>
    <select
      class="form-select"
      id="category_id"
      name="category_id"
      required
    >
      <option value="" selected disabled>Seleccioná una categoría...</option>
      {% for cat in categories %}
        <option value="{{ cat['id'] }}">{{ cat["name"] }}</option>
      {% endfor %}
    </select>
    <div class="form-text">
      ¿Te falta alguna? <a href="{{ url_for('views.categories') }}">Gestionar categorías</a>.
    </div>
  </div>

  <div class="mb-3">
    <label for="description" class="form-label">Descripción (opcional)</label>
    <textarea
      class="form-control"
      id="description"
      name="description"
      rows="2"
      placeholder="Ej: sueldo, alquiler, supermercado..."
    ></textarea>
  </div>

  <div class="d-flex justify-content-between mt-3">
    <a href="{{ url_for('views.index') }}" class="btn btn-outline-secondary">Cancelar</a>
    <div>
      <button
        type="submit"
        name="type"
        value="income"
        class="btn btn-success me-2"
      >
        + Ingreso
      </button>
      <button
        type="submit"
        name="type"
        value="expense"
        class="btn btn-danger"
      >
        - Egreso
      </button>
    </div>
  </div>
</form>
{% endblock %}