{% extends "layout.html" %}
{% block title %}Edit transaction - Cashflow{% endblock %}

{% block content %}
<h1 class="h3 mb-3">Edit transaction</h1>

<form method="post" class="card p-3">
  <div class="mb-3">
    <label for="amount" class="form-label">Amount</label>
    <input type="number" step="0.01" class="form-control" id="amount" name="amount" required min="0.01"
      placeholder="e.g.: 15000.00" value="{{ tx['amount'] }}">
  </div>

  <div class="mb-3">
    <label for="date" class="form-label">Date</label>
    <input type="date" class="form-control" id="date" name="date" required value="{{ tx['date'] }}">
  </div>

  <div class="mb-3">
    <label for="category_id" class="form-label">Category</label>
    <select class="form-select" id="category_id" name="category_id" required>
      <option value="" disabled>Select a category...</option>
      {% for cat in categories %}
      <option value="{{ cat['id'] }}" {% if cat['id']==tx['category_id'] %}selected{% endif %}>
        {{ cat["name"] }}
      </option>
      {% endfor %}
    </select>
    <div class="form-text">
      Missing one? <a href="{{ url_for('views.categories') }}">Manage categories</a>.
    </div>
  </div>

  <div class="mb-3">
    <label for="description" class="form-label">Description (optional)</label>
    <textarea class="form-control" id="description" name="description" rows="2"
      placeholder="e.g.: salary, rent, groceries...">{{ tx['description'] }}</textarea>
  </div>

  <div class="mb-3">
    <label class="form-label d-block">Type</label>
    <div class="btn-group" role="group" aria-label="Transaction type"></div>
    <input type="radio" class="btn-check" name="type" id="type_income" value="income" {% if tx['type']=='income'
      %}checked{% endif %}>
    <label class="btn btn-outline-success" for="type_income">
      + Income
    </label>

    <input type="radio" class="btn-check" name="type" id="type_expense" value="expense" {% if tx['type']=='expense'
      %}checked{% endif %}>
    <label class="btn btn-outline-danger" for="type_expense">
      - Expense
    </label>
  </div>
  </div>

  <div class="d-flex justify-content-between mt-3">
    <a href="{{ url_for('views.index') }}" class="btn btn-outline-secondary">
      Cancel
    </a>
    <button type="submit" class="btn btn-primary">
      Save changes
    </button>
  </div>
</form>
{% endblock %}